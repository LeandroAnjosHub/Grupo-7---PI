<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style-suporte.css">
    <title>AeroControl | Monitoramento em Tempo Real</title>
</head>

<body>
    <div class="container">
        <aside class="sidebar">
            <div class="logo">
                <img src="imagens/logoAerocontrol2.png" alt="Logo">
            </div>
            <nav class="sidebar-nav">
                <a class="sidebar-btn" href="dashboard-suporte.html">PAINEL</a>
                <a class="sidebar-btn" href="dashboard-suporte-cadastro.html">CADASTRO</a>
                <a class="sidebar-btn" onclick="limparSessao()">SAIR</a>
            </nav>
        </aside>

        <main class="main-content">
            <h1>Monitoramento em Tempo Real</h1>

            <div class="status-summary">
                <div class="status-box alert">
                    <div class="numero-card"><p>1</p></div>
                    <div class="texto-box"><h2>Alerta</h2>
                    <p>Algum componente excedeu 80% de uso</p></div>
                </div>
                <div class="status-box warning">
                    <div class="numero-card"><p>3</p></div>
                    <div class="texto-box"><h2>Atenção</h2>
                    <p>Algum componente está entre 50% e 80% de uso</p></div>
                </div>
                <div class="status-box stable">
                    <div class="numero-card"><p>0</p></div>
                    <div class="texto-box"><h2>Estável</h2>
                    <p>
                        <p>Uso de ambos os componentes abaixo do 50%</p></div>
                </div>
            </div>

            <DIV class="grupo_maquinas_filtro">
                <div class="filter-container">
                    <label for="filter">Filtro</label>
                    <div class="inputs">
                    <div class="custom-select">
                        <select id="filter">
                            <option value="setor">Setor</option>
                            <option value="despache">Despache Operacional</option>
                            <option value="coordenador">Coordenador de Voos</option>
                        </select>
                        <span class="arrow">&#9662;</span>
                    </div>
    
                    <div id="div_check" onclick="ativarCheck()" itemid="div_custom_check" class="custom_check">
                        <input id="checkDash" type="checkbox"> Visualizar de forma gráfica
    
                    </div>
                </div>
                </div>

            <div class="machine-list">
                <div class="machine-card">
                    <div class="machine-info">
                        <p><strong>Máquina:</strong> PC4000</p>
                        <p><strong>Setor:</strong> Coordenador de voos</p>
                    </div>
                    <div class="machine-status">
                        <div class="cpu warning">CPU: 70%</div>
                        <div class="ram warning">RAM: 60%</div>
                    </div>
                    <a class="analyze-btn" href="dashboard-suporte-grafico.html">Analisar</a>
                </div>
                
                <div class="machine-card">
                    <div class="machine-info">
                        <p><strong>Máquina:</strong> PC1000</p>
                        <p><strong>Setor:</strong> Despache operacional de voo</p>
                    </div>
                    <div class="machine-status">
                        <div class="cpu alert">CPU: 87%</div>
                        <div class="ram alert">RAM: 82%</div>
                    </div>
                    <a class="analyze-btn" href="dashboard-suporte-grafico.html">Analisar</a>
                </div>

                <div class="machine-card">
                    <div class="machine-info">
                        <p><strong>Máquina:</strong> PC2000</p>
                        <p><strong>Setor:</strong> Coordenador de voos</p>
                    </div>
                    <div id="grafico1">
                        <canvas style="display: none;" id="usageChart"></canvas>
                    </div>
                    <div class="machine-status">
                        <div class="cpu stable">CPU: 24%</div>
                        <div class="ram warning">RAM: 60%</div>
                    </div>
                    <a class="analyze-btn" href="dashboard-suporte-grafico.html">Analisar</a>
                </div>
                <div class="machine-card">
                    <div class="machine-info">
                        <p><strong>Máquina:</strong> PC3000</p>
                        <p><strong>Setor:</strong> Despache operacional de voo</p>
                    </div>
                    <div class="machine-status">
                        <div class="cpu warning">CPU: 78%</div>
                        <div class="ram warning">RAM: 75%</div>
                    </div>
                    <a class="analyze-btn" href="dashboard-suporte-grafico.html">Analisar</a>
                </div>
                </div>
            </div>
        </DIV>
        </main>
    </div>
</body>

</html>

<script>
    
const ctx = document.getElementById('usageChart').getContext('2d');
    const usageChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: Array.from({ length: 24 }, (_, i) => i),
            datasets: [
                {
                    label: 'CPU',
                    borderColor: '#f54291',
                    backgroundColor: '#f54291',
                    fill: false,
                    data: [60, 50, 70, 65, 85, 90, 95, 60, 70, 40, 50, 35, 75, 80, 85, 90, 95, 50, 60, 70, 80, 90, 100, 80],
                },
                {
                    label: 'Memória',
                    borderColor: '#42f554',
                    backgroundColor: '#42f554',
                    fill: false,
                    data: [30, 40, 50, 55, 60, 65, 70, 40, 45, 55, 65, 50, 55, 60, 70, 75, 80, 85, 50, 60, 70, 85, 75, 65],
                }
            ]
        },
        options: {
            responsive: true,
            scales: {
                x: {
                    display: true,
                    title: {
                        display: true,
                        text: 'Horas',
                        color: 'white'
                    },
                    ticks: {
                        color: 'white'
                    }
                },
                y: {
                    display: true,
                    title: {
                        display: true,
                        text: 'Porcentagem (%)',
                        color: 'white'
                    },
                    beginAtZero: true,
                    max: 100,
                    ticks: {
                        color: 'white'
                    }
                }
            },
            plugins: {
                legend: {
                    display: true,
                    labels: {
                        color: 'white'
                    }
                }
            }
        }
    });



    function ativarCheck(){
        const checkbox = document.getElementById("checkDash");
      checkbox.checked = !checkbox.checked;
    }

    function limparSessao() {
        sessionStorage.clear();
        window.location = "index.html";
    }
</script>